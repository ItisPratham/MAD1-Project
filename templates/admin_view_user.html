{% extends "base_admin_dashboard.html" %}

{% block title %}View A User{% endblock %}

{% block header %}User Details{% endblock %}

{% block content %}

    <table class="table table-bordered table-striped text-center">
        <thead class="table-bordered-dark">
            <tr>
                <th>Res. ID</th>
                <th>User ID</th>
                <th>Username</th>
                <th>Spot ID</th>
                <th>Lot Name</th>
                <th>Vehicle no</th>
                <th>Parking Time</th>
                <th>Leaving Time</th>
                <th>Total Cost</th>
            </tr>
        </thead>
        <tbody>
            {% for r in reservations %}
            <tr>
                <td>{{ r.id }}</td>
                <td>{{ r.user.id }}</td>
                <td>{{ r.user.username }}</td>
                <td>{{ r.spot.id }}</td>
                <td>{{ r.spot.lot.name }}</td>
                <td>{{ r.vehicle_no }}</td>
                <td>{{ r.parking_timestamp.strftime('%H:%M %d-%b-%y') }}</td>
                <td>
                    {% if r.leaving_timestamp %}
                        {{ r.leaving_timestamp.strftime('%H:%M %d-%b-%y') }}
                    {% else %}
                        <em>Active</em>
                    {% endif %}
                </td>
                <td>
                    {% if r.leaving_timestamp %}
                        {{ r.total_cost }}
                    {% else %}
                        <em>Cant calculate yet</em>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock %}